
<ion-header>
  <ion-navbar color="primary" >
    <ion-title>
      Barber Shops
    </ion-title>  
  </ion-navbar>
</ion-header>
  
<ion-content padding class="barber-shop" >

    <div *ngIf="!countrySelected">

        <ion-card>
            <img src="../../assets/img/barbershop_logo.jpg" alt="" >
        </ion-card>

        <div padding ></div>
        
        <ion-list> 
            <ion-item >
                <ion-label>Country</ion-label>
                <ion-select [(ngModel)]="selectedCountryIndex" 
                    (ionChange)="getState()" disabled="{{toViewAll}}" >
                    <ion-option value="-1">Select Country</ion-option>
                    <ion-option *ngFor="let country of countries, let i = index" 
                        value="{{ i }}">{{ country }}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label>State</ion-label> 
                <ion-select [(ngModel)]="selectedStateIndex" disabled="{{toViewAll}}" >
                    <ion-option value="-1">Select State</ion-option>
                    <ion-option *ngFor="let state of states, let i = index"
                    value="{{ i }}">{{ state }}</ion-option>
                </ion-select>
            </ion-item> 
           <ion-item>
                <ion-label style="color: #333">View all</ion-label>
                <ion-checkbox [(ngModel)]="toViewAll" 
                    style="margin: 9px;"></ion-checkbox>
            </ion-item>
        </ion-list>

        <br />
        <button (click)="listShops()" ion-button
            ><i class="fa fa-search"></i> &nbsp; {{ toViewAll? 'View all' : 'search' }}</button>

    </div>

    <div *ngIf="countrySelected" class="barber-shop-list">

        <p text-center ><b>List of barber shops</b></p>

        
        <ion-card *ngFor="let shop of shops, let i = index">
            <ion-card-content>
                <ion-card-header >
                    {{ shop.title }} 
                </ion-card-header >
                <ion-thumbnail >
                    <img src="{{ webRootPath }}uploads/classified/{{shop.classified_image}}" alt="">
                </ion-thumbnail>
                <ion-label><small>{{ shop.short_description }}</small></ion-label>
                <ion-label><small><i class="fa fa-map-marker"></i>&nbsp;&nbsp; {{ shop.address }}</small></ion-label>            
                <ion-label><small><i class="fa fa-envelope-o"></i>&nbsp;&nbsp; {{ shop.email }}</small></ion-label>            
                <ion-label><small><i class="fa fa-phone"></i>&nbsp;&nbsp; {{ shop.phone }}</small></ion-label>            

            </ion-card-content>

        </ion-card>
            
            
            
        <ion-card *ngFor="let shop of shopsNoPayment, let i = index" >

            <ion-card-content>
                <ion-card-header >
                    {{ shop.title }} 
                </ion-card-header >

                <ion-thumbnail >
                    <img src="{{ webRootPath }}uploads/classified/{{shop.classified_image}}" alt="">
                </ion-thumbnail>

                <ion-label><small>{{ shop.short_description }}</small></ion-label>
                <ion-label><small><i class="fa fa-map-marker"></i>&nbsp;&nbsp; {{ shop.address }}</small></ion-label>            
                <ion-label><small><i class="fa fa-envelope-o"></i>&nbsp;&nbsp; {{ shop.email }}</small></ion-label>            
                <ion-label><small><i class="fa fa-phone"></i>&nbsp;&nbsp; {{ shop.phone }}</small></ion-label>            

            </ion-card-content>

        </ion-card>
             

    </div>

</ion-content>